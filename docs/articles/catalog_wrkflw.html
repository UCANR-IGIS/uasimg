<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cataloging Workflow â€¢ uasimg</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Cataloging Workflow">
<meta property="og:description" content="uasimg">
<meta property="og:image" content="http://ucanr-igis.github.io/uasimg/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81567502-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-81567502-3');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">uasimg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/uasimg.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/catalog_wrkflw.html">Cataloging Workflow</a>
    </li>
    <li>
      <a href="../articles/flight_metadata.html">Flight Metadata</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ucanr-igis/uasimg/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Cataloging Workflow</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ucanr-igis/uasimg/blob/master/vignettes/catalog_wrkflw.Rmd" class="external-link"><code>vignettes/catalog_wrkflw.Rmd</code></a></small>
      <div class="hidden name"><code>catalog_wrkflw.Rmd</code></div>

    </div>

    
    
<style type="text/css">
span.optional {
  border-radius: 3px;
  padding: 4px;
  margin-right: 1em;
  background-color:#18bc9c;
}
</style>
<p>This article presents a workflow for using <code>uasimg</code> to
create a <strong>catalog of drone images</strong> from multiple flights
that are part of a bigger mapping project / campaign. An example of the
final output is <a href="https://ucanr-igis.github.io/uasimg/samples/hrec/index.html" target="_blank" rel="noopener" class="external-link">here</a>. Although the workflow is
presented a sequence of steps, in practice your workflow will probably
<em>not</em> be linear. Some of the steps below are optional and others
may have to be repeated. But the outline presents a typical order of the
steps.</p>
<p><br></p>
<center>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300pt" height="577pt" viewbox="0.00 0.00 397.40 764.00"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 760)"><title>flowchart</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-760 393.3982,-760 393.3982,4 -4,4"></polygon><g id="node1" class="node"><title>tab1</title>
<polygon fill="none" stroke="#000000" points="290.2355,-756 99.1627,-756 99.1627,-720 290.2355,-720 290.2355,-756"></polygon><text text-anchor="middle" x="194.6991" y="-733.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Copy images to a hard drive</text></g><g id="node2" class="node"><title>tab2</title>
<polygon fill="none" stroke="#000000" points="337.6471,-684 51.7511,-684 51.7511,-648 337.6471,-648 337.6471,-684"></polygon><text text-anchor="middle" x="194.6991" y="-661.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Extract image info for each folder of images</text></g><g id="edge1" class="edge"><title>tab1-&gt;tab2</title>
<path fill="none" stroke="#000000" d="M194.6991,-719.8314C194.6991,-712.131 194.6991,-702.9743 194.6991,-694.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-694.4132 194.6991,-684.4133 191.1992,-694.4133 198.1992,-694.4132"></polygon></g><g id="node3" class="node"><title>tab3</title>
<polygon fill="none" stroke="#000000" points="345.9908,-612 43.4074,-612 43.4074,-576 345.9908,-576 345.9908,-612"></polygon><text text-anchor="middle" x="194.6991" y="-589.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Create flight metadata text files for each folder</text></g><g id="edge2" class="edge"><title>tab2-&gt;tab3</title>
<path fill="none" stroke="#000000" d="M194.6991,-647.8314C194.6991,-640.131 194.6991,-630.9743 194.6991,-622.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-622.4132 194.6991,-612.4133 191.1992,-622.4133 198.1992,-622.4132"></polygon></g><g id="node4" class="node"><title>tab4</title>
<polygon fill="none" stroke="#000000" points="366.2406,-540 23.1576,-540 23.1576,-504 366.2406,-504 366.2406,-540"></polygon><text text-anchor="middle" x="194.6991" y="-517.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Edit and save flight metadata text files in a text editor</text></g><g id="edge3" class="edge"><title>tab3-&gt;tab4</title>
<path fill="none" stroke="#000000" d="M194.6991,-575.8314C194.6991,-568.131 194.6991,-558.9743 194.6991,-550.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-550.4132 194.6991,-540.4133 191.1992,-550.4133 198.1992,-550.4132"></polygon></g><g id="node5" class="node"><title>tab5</title>
<polygon fill="none" stroke="#000000" points="346.5377,-468 42.8605,-468 42.8605,-432 346.5377,-432 346.5377,-468"></polygon><text text-anchor="middle" x="194.6991" y="-445.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Delete or move oddball images into subfolders</text></g><g id="edge4" class="edge"><title>tab4-&gt;tab5</title>
<path fill="none" stroke="#000000" d="M194.6991,-503.8314C194.6991,-496.131 194.6991,-486.9743 194.6991,-478.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-478.4132 194.6991,-468.4133 191.1992,-478.4133 198.1992,-478.4132"></polygon></g><g id="node6" class="node"><title>tab6</title>
<polygon fill="none" stroke="#000000" points="274.6163,-396 114.7819,-396 114.7819,-360 274.6163,-360 274.6163,-396"></polygon><text text-anchor="middle" x="194.6991" y="-373.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Split and merge folders</text></g><g id="edge5" class="edge"><title>tab5-&gt;tab6</title>
<path fill="none" stroke="#000000" d="M194.6991,-431.8314C194.6991,-424.131 194.6991,-414.9743 194.6991,-406.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-406.4132 194.6991,-396.4133 191.1992,-406.4133 198.1992,-406.4132"></polygon></g><g id="node7" class="node"><title>tab7</title>
<polygon fill="none" stroke="#000000" points="347.8968,-324 41.5014,-324 41.5014,-288 347.8968,-288 347.8968,-324"></polygon><text text-anchor="middle" x="194.6991" y="-301.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Re-run uas_info() to update the flight metadata</text></g><g id="edge6" class="edge"><title>tab6-&gt;tab7</title>
<path fill="none" stroke="#000000" d="M194.6991,-359.8314C194.6991,-352.131 194.6991,-342.9743 194.6991,-334.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-334.4132 194.6991,-324.4133 191.1992,-334.4133 198.1992,-334.4132"></polygon></g><g id="node8" class="node"><title>tab8</title>
<polygon fill="none" stroke="#000000" points="339.2439,-252 50.1543,-252 50.1543,-216 339.2439,-216 339.2439,-252"></polygon><text text-anchor="middle" x="194.6991" y="-229.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Move images into a structured directory tree</text></g><g id="edge7" class="edge"><title>tab7-&gt;tab8</title>
<path fill="none" stroke="#000000" d="M194.6991,-287.8314C194.6991,-280.131 194.6991,-270.9743 194.6991,-262.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-262.4132 194.6991,-252.4133 191.1992,-262.4133 198.1992,-262.4132"></polygon></g><g id="node9" class="node"><title>tab9</title>
<polygon fill="none" stroke="#000000" points="328.46,-180 60.9382,-180 60.9382,-144 328.46,-144 328.46,-180"></polygon><text text-anchor="middle" x="194.6991" y="-157.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Export flight geometries to shp / kml files</text></g><g id="edge8" class="edge"><title>tab8-&gt;tab9</title>
<path fill="none" stroke="#000000" d="M194.6991,-215.8314C194.6991,-208.131 194.6991,-198.9743 194.6991,-190.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-190.4132 194.6991,-180.4133 191.1992,-190.4133 198.1992,-190.4132"></polygon></g><g id="node10" class="node"><title>tab10</title>
<polygon fill="none" stroke="#000000" points="307.7117,-108 81.6865,-108 81.6865,-72 307.7117,-72 307.7117,-108"></polygon><text text-anchor="middle" x="194.6991" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Create individual flight summaries</text></g><g id="edge9" class="edge"><title>tab9-&gt;tab10</title>
<path fill="none" stroke="#000000" d="M194.6991,-143.8314C194.6991,-136.131 194.6991,-126.9743 194.6991,-118.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-118.4132 194.6991,-108.4133 191.1992,-118.4133 198.1992,-118.4132"></polygon></g><g id="node11" class="node"><title>tab11</title>
<polygon fill="none" stroke="#000000" points="389.5975,-36 -.1993,-36 -.1993,0 389.5975,0 389.5975,-36"></polygon><text text-anchor="middle" x="194.6991" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Create Table of Content page(s) for related flight summaries</text></g><g id="edge10" class="edge"><title>tab10-&gt;tab11</title>
<path fill="none" stroke="#000000" d="M194.6991,-71.8314C194.6991,-64.131 194.6991,-54.9743 194.6991,-46.4166"></path><polygon fill="#000000" stroke="#000000" points="198.1992,-46.4132 194.6991,-36.4133 191.1992,-46.4133 198.1992,-46.4132"></polygon></g></g></svg>
</center>
<p><br></p>
<p>Currently, executing this workflow in <code>uasimg</code> requires
<strong>writing R commands</strong> (i.e., in a script). This requires a
knowledge of R, and a general understanding of what the functions do
(explained below). In a future release, <code>uasimg</code> will have a
GUI (wizard) that walks users through data management steps.</p>
<p><br></p>
<div class="section level2">
<h2 id="copy-image-files-from-the-drone-to-a-hard-drive">1. Copy image files from the drone to a hard drive<a class="anchor" aria-label="anchor" href="#copy-image-files-from-the-drone-to-a-hard-drive"></a>
</h2>
<p><em>Notes</em></p>
<ul>
<li><p>The first step is getting the images off the drone and onto your
hard drive.</p></li>
<li><p>Usually this involves a memory card reader or USB cable, and a
file management utility like Windows Explorer. <code>uasimg</code> does
not help with this step.</p></li>
<li><p>Internal drives are recommended as they tend to be faster and
more reliable than external drives (but either can work).</p></li>
<li><p>Make sure the directory names will help you remember what images
are in there. For example, you might name your directories using the
pattern: date + flight number (e.g., <em>2020-10-19 Flight
03</em>).</p></li>
</ul>
<p><em>Tips:</em></p>
<ul>
<li><p>You can save yourself some time by creating the directories
before you go out into the field.</p></li>
<li><p>If you have enough blank SD cards for all your flights, then you
can just leave the images on the SD card as a temporary backup until you
get back to the office. Label each card and put it somewhere safe. If
you need it to use it again, reformat the SD card. Windows Explorer
generally works fine for this, unless your memory card is &gt;32GB and
your drone camera only reads FAT32 (see <a href="http://igis.ucanr.edu/Tech_Notes/Memory_Cards/" class="external-link"><em>Best Practices
Working with Memory Cards</em></a> for details).</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="extract-image-info">2. Extract image info<a class="anchor" aria-label="anchor" href="#extract-image-info"></a>
</h2>
<p>Sample code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vegsrvy_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c:/uas/hopland-veg-survey/flight01/DCIM"</span>,</span>
<span>                 <span class="st">"c:/uas/hopland-veg-survey/flight02/DCIM"</span>,</span>
<span>                 <span class="st">"c:/uas/hopland-veg-survey/flight03/DCIM"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vegsrvy_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uas_info.html">uas_info</a></span><span class="op">(</span><span class="va">vegsrvy_dir</span><span class="op">)</span></span></code></pre></div>
<p><em>Notes</em></p>
<ul>
<li><p>No internet connection is required for this step.</p></li>
<li><p>This can be done in the field if you want to verify image
locations, see if there were any dropouts, or check overlap.</p></li>
<li><p>Always save the results of <code><a href="../reference/uas_info.html">uas_info()</a></code> to a
variable.</p></li>
<li><p><code><a href="../reference/uas_info.html">uas_info()</a></code> can process multiple directories at once.
Simply pass a character vector of directory names (as shown
above).</p></li>
<li><p>The first time <code><a href="../reference/uas_info.html">uas_info()</a></code> runs on a directory, it
may take a little while to extract the EXIF data from all the images.
Subsequent calls should go much faster, because the EXIF data are
cached.</p></li>
<li><p>The object returned by <code><a href="../reference/uas_info.html">uas_info()</a></code> contains image
locations, the flight area (minimum convex polygon around all the
images), some basic flight metadata, and potentially footprints (if
<code>fp = TRUE</code>).</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="create-flight-metadata-files">3. Create flight metadata files<a class="anchor" aria-label="anchor" href="#create-flight-metadata-files"></a>
</h2>
<p><em>Flight metadata</em> refers to info that isnâ€™t saved in the
images. For example the name of the pilot, the project code, site name,
etc. Creating flight metadata is strongly recommended if you wish to
generate flight summary reports or move images into a structured
directory tree. For additional info, see the <a href="flight_metadata.html">Flight Metadata</a> vignette.</p>
<p>The recommended way to enter and save flight metadata is to create a
<em>metadata.txt</em> file in each directory. The function below gets
you started, but then you have to manually continue editing the flight
info using a text editor.</p>
<p>Sample code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create the metadata text files and open them in a text editor</span></span>
<span><span class="fu"><a href="../reference/uas_metadata_make.html">uas_metadata_make</a></span><span class="op">(</span><span class="va">vegsrvy_info</span>, make_new <span class="op">=</span> <span class="cn">TRUE</span>, overwrite <span class="op">=</span> <span class="cn">FALSE</span>, open <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>In this case, <code>uas_metadata_make(vegsrvy_info)</code> will
create a â€˜blankâ€™ metadata text file in each folder in
<code>vegsrvy_info</code> (where <code>vegsrvy_info</code> was created
by <code><a href="../reference/uas_info.html">uas_info()</a></code>).</p>
<p><em>Notes</em></p>
<ul>
<li><p>To customize the flight metadata fields, run
<code>uas_setfld()</code> first.</p></li>
<li><p>To pre-populate some of the metadata fields (e.g., the name of
the organization), pass the path or URL to an existing metadata file as
the <code>md_template</code> argument.</p></li>
<li><p>Pass <code>open = TRUE</code> to open the metadata text files for
further editing. To use the system text editor instead of the text
editor defined by R, let <code>use_system_editor = TRUE</code>.</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="move-oddball-images-into-their-own-folders">4. Move oddball images into their own folders<a class="anchor" aria-label="anchor" href="#move-oddball-images-into-their-own-folders"></a>
</h2>
<p><span class="optional">Optional</span></p>
<p>â€˜Oddballâ€™ images in this context are those images you arenâ€™t going
stitch in your photogrammetry software. This include photos of
calibration targets, images from aborted flights, test photos, drone
selfies, etc. The idea is these should be separated (or deleted) so you
donâ€™t have to mess with them during stitching process. You can move
images with Windows Explorer.</p>
<p><em>Notes</em></p>
<ul>
<li><p>Put images you want to keep (like calibration photos) into
subfolders so they stay with the originals.</p></li>
<li><p>In the future, <code>uasimg</code> may have a function / GUI to
help identify and move oddball images</p></li>
<li><p>If your flight management software includes a post-processing
step (e.g., eMotion), remember to keep the flight logs so you can
post-process the images (or better yet do the post-processing before you
move or catalog any images).</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="split-andor-merge-images-across-folders">5. Split and/or merge images across folders<a class="anchor" aria-label="anchor" href="#split-andor-merge-images-across-folders"></a>
</h2>
<p><span class="optional">Optional</span></p>
<p><em>Notes</em></p>
<ul>
<li><p>Sometimes you need to divide up the images from a single folder
into different folders to achieve the gold standard of having one
processing job per folder. For example, a folder may contain images from
multiple flights. Or you might want to split up the RGB (jpg) files and
the mulitspectral (tif) files into separate folders (because you
normally stitch these separately).</p></li>
<li><p>Other times, you many have several folders of images that were
all part of the same flight (because most cameras have a limit of 999
images per folder). In this case, you have to merge them together. But
take note, combining files from different directories may require
changing file names first to prevent duplicates.</p></li>
<li><p>Currently, you have to split and/or merge folders manually (i.e.,
with Windows Explorer). Functions are coming to <code>uasimg</code> that
will facilitate splitting and merging image folders.</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="rerun-uas_info-to-refresh-the-metadata">6. (Re)run <code>uas_info()</code> to refresh the metadata<a class="anchor" aria-label="anchor" href="#rerun-uas_info-to-refresh-the-metadata"></a>
</h2>
<p>After youâ€™ve created metadata text files, and moved oddball images
out of directories, you need to pull out the location info again</p>
<p>Sample code (same as step 2):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_img_dirs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c:/uas/hopland-veg-survey/flight01/DCIM"</span>,</span>
<span>                 <span class="st">"c:/uas/hopland-veg-survey/flight02/DCIM"</span>,</span>
<span>                 <span class="st">"c:/uas/hopland-veg-survey/flight03/DCIM"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vegsrvy_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uas_info.html">uas_info</a></span><span class="op">(</span><span class="va">my_img_dirs</span><span class="op">)</span></span></code></pre></div>
<p><em>Notes</em></p>
<ul>
<li><p><code><a href="../reference/uas_info.html">uas_info()</a></code> â€˜sucks upâ€™ the flight metadata it finds
in metadata text files. So every time you edit and save the metadata
text files in your text editor, you should rerun
<code><a href="../reference/uas_info.html">uas_info()</a></code>.</p></li>
<li><p><code><a href="../reference/uas_info.html">uas_info()</a></code> should go quickly after the initial
extraction of EXIF data from the images. But if you add or move images
out of a folder, the cache is invalidated and it will extract the EXIF
data all over again. Donâ€™t be alarmed.</p></li>
<li><p>To see what information is saved in a flight info object, type
the name of the object at the console and hit enter.</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="move-images-into-a-structured-directory-tree">7. Move images into a structured directory tree<a class="anchor" aria-label="anchor" href="#move-images-into-a-structured-directory-tree"></a>
</h2>
<p><span class="optional">Optional</span></p>
<p>If desired, you can move your images into a structured directory tree
to help make them easier to find. Creating structured directory trees
requires that i) youâ€™ve entered flight metadata for every flight, and
ii) youâ€™ve passed a template that specifies how the directory tree
should be constructed.</p>
<p>Sample code:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/uas_move.html">uas_move</a></span><span class="op">(</span><span class="va">vegsrvy_info</span>, </span>
<span>         tree <span class="op">=</span> <span class="st">"my_dir_tree_template.txt"</span>,</span>
<span>         outdir_base <span class="op">=</span> <span class="st">"d:/uas_data"</span>,</span>
<span>         imgs_action <span class="op">=</span> <span class="st">"copy"</span><span class="op">)</span></span></code></pre></div>
<p><em>Notes</em></p>
<ul>
<li><p>Moving images into a structured directory tree can be done at any
time. The only thing that could potentially â€˜breakâ€™ if you move images
to a new location are the links that point to flight summary reports in
a TOC (and that will only happen if those flight summary reports were
saved in the default â€˜mapâ€™ sub-directory of the image directory, and you
didnâ€™t â€˜gatherâ€™ the flight summary reports into one location when you
created tht TOC.)</p></li>
<li><p>See the help page for <code><a href="../reference/uas_move.html">uas_move()</a></code> for additional
arguments and details.</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="export-flight-geometries-to-gis-files">8. Export flight geometries to GIS files<a class="anchor" aria-label="anchor" href="#export-flight-geometries-to-gis-files"></a>
</h2>
<p><span class="optional">Optional</span></p>
<p>If desired, you can export the geometries of individual flights as
KML and/or Shapefiles.</p>
<p>Sample code:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/uas_exp_kml.html">uas_exp_kml</a></span><span class="op">(</span><span class="va">vegsrvy_info</span>, ctr <span class="op">=</span> <span class="cn">TRUE</span>, mcp <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/uas_exp_kml.html">uas_exp_shp</a></span><span class="op">(</span><span class="va">vegsrvy_info</span>, ctr <span class="op">=</span> <span class="cn">TRUE</span>, mcp <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><em>Notes</em></p>
<ul>
<li><p>Features you can export include the image centroids, a minimum
convex polygon around all the images (used to approximate the flight
area), and estimated footprints.</p></li>
<li><p>Be default, KML and Shapefiles will be saved to the â€˜mapâ€™
subdirectory of the image folder. If this subdirectory doesnâ€™t already
exist, it will be created. You can specify a different output directory
with the <code>output_dir</code> argument.</p></li>
<li><p>To combine the features from multiple flights into a single KML /
Shapefile, use the <code>combine_feats</code> argument. This could be
useful, for example, to import into your flight planning software to see
where youâ€™ve already flown. See help for details.</p></li>
<li><p><code><a href="../reference/uas_report.html">uas_report()</a></code> and <code>uas_toc</code> also have
arguments to export flight geometries and link them to the flight
summary HTML pages.</p></li>
<li><p>You can import the MCP KML when planning missions, to see where
youâ€™ve already flown. Flight area (i.e., MCP) KML files have been tested
for compatibility with eMotion, Pix4Dcapture (Android), Drone Deploy
(Android), and DJI Pilot.</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="create-flight-summaries">9. Create flight summaries<a class="anchor" aria-label="anchor" href="#create-flight-summaries"></a>
</h2>
<p>This step involves creating standalone HTML pages that summarize
images in a single folder. These can be thought of as the individual
â€˜pagesâ€™ of a data catalog.</p>
<p>Sample code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vegsrvy_rpt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uas_report.html">uas_report</a></span><span class="op">(</span><span class="va">vegsrvy_info</span><span class="op">)</span></span></code></pre></div>
<p><em>Notes</em></p>
<ul>
<li><p>If you want image thumbnails in the pop-up windows, set
<code>thumbnails = TRUE</code>. Be advised that creating thumbnails can
take a while.</p></li>
<li><p><code><a href="../reference/uas_report.html">uas_report()</a></code> has several other arguments you can use
to tweak the appearance of the flight summary. These include a custom
title (<code>report_title</code>), whether or not to add links for the
image centroids and MCP as KML files (<code>attachments</code>), whether
or not to download a background image (<code>png_map</code>), HTML files
to use as a custom header or footer, etc. See help for details.</p></li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="create-a-table-of-contents-for-all-the-flight-summaries">10. Create a Table of Contents for all the flight summaries<a class="anchor" aria-label="anchor" href="#create-a-table-of-contents-for-all-the-flight-summaries"></a>
</h2>
<p>If you have several flights in the same general area, the final step
is to create a master Table of Contents (TOC) for a series of flight
summaries. The TOC is a standalone HTML file with links to individual
flight summaries.</p>
<p>Sample code:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">toc_rgb_fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uas_toc.html">uas_toc</a></span><span class="op">(</span><span class="va">vegsrvy_rpt</span>, </span>
<span>                      output_dir <span class="op">=</span> <span class="st">"c:/drone_data/catalogs/pt_pinole"</span>,</span>
<span>                      gather_dir <span class="op">=</span> <span class="st">"."</span>, fltmap_show <span class="op">=</span> <span class="cn">TRUE</span>, open_toc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><em>Notes</em></p>
<ul>
<li><p>Use <code>fltmap_show = TRUE</code> to insert a little
interactive map of all the flight areas at the top of the TOC.</p></li>
<li><p><code>fltmap_base</code> can be used to display additional KML
files in the summary map. For example this could be overall boundary for
the campaign.</p></li>
<li><p><code>gather_dir</code> tells R to <strong>copy</strong> all
files for the catalog into a subdirectoy of <code>output_dir</code>.
This includes the individual flight summary pages and all their
dependent files - KML files, and thumbnails. Your entire data catalog is
then in a single folder, which you can FTP to a web server, zip and
share with colleagues, etc.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Andy Lyons.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
