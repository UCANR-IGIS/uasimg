<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Flight Metadata • uasimg</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Flight Metadata">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-68H6V5WRXH"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-68H6V5WRXH');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">uasimg</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">1.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/uasimg.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/catalog_wrkflw.html">Cataloging Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/flight_metadata.html">Flight Metadata</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ucanr-igis/uasimg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Flight Metadata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ucanr-igis/uasimg/blob/master/vignettes/flight_metadata.Rmd" class="external-link"><code>vignettes/flight_metadata.Rmd</code></a></small>
      <div class="d-none name"><code>flight_metadata.Rmd</code></div>
    </div>

    
    
<style type="text/css">
.tbl_compact td, .tbl_compact th {
  padding: 10px 30px;
}
</style>
<p>This article describes what flight metadata is, why it’s useful, and
how to create and manage flight metadata in <code>uasimg</code>.</p>
<div class="section level2">
<h2 id="image-metadata-vs--flight-metadata">Image Metadata vs. Flight Metadata<a class="anchor" aria-label="anchor" href="#image-metadata-vs--flight-metadata"></a>
</h2>
<p><em>Image metadata</em> generally refers to the information about
individual images. For example, the location, altitude, type of camera,
focal length, resolution, etc. Modern cameras do a great job saving this
information in the header of JPG / TIF files (also known as EXIF data).
Photogrammetry programs rely on image metadata to help stitch the images
together.</p>
<p><em>Flight metadata</em> refers to properties images inherit from the
flight they were on. These include things like the name of the site,
pilot, drone, weather conditions, where the images are actually saved,
etc. These bits of information are not essential for photogrammetry, but
they are extremely useful for data management.</p>
<p>Flight metadata can also help you interpret the results of
photogrammetry. For example inconsistent color tones or brightness in an
orthomosaic could be the result of clouds during the flight, that you
wouldn’t necessarily know just by looking at the images.</p>
</div>
<div class="section level2">
<h2 id="how-does-uasimg-use-flight-metadata">How does <code>uasimg</code> use flight metadata?<a class="anchor" aria-label="anchor" href="#how-does-uasimg-use-flight-metadata"></a>
</h2>
<p><code>uasimg</code> uses both image and flight metadata to help you
organize, catalog, and share your drone images.</p>
<p>Image metadata is read from the image files. GPS locations are used
to make interactive maps on the flight summary pages. Properties such as
the resolution and time stamps are reported on flight summary pages. If
the image metadata specifies i) a known camera and ii) the relative
above ground altitude, then <code>uasimg</code> can also compute
estimated image footprints and generate world files.</p>
<p><code>uasimg</code> uses flight metadata<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;in the context of uasimg, ‘flight’ simply refers to any
collection of images. In practice we typically process and analyze
images by flight, but there are cases where you may want to work with
images taken on multiple flights, portions of flights, etc.&lt;/p&gt;"><sup>1</sup></a> primarily for
<em>cataloging</em> and <em>sorting</em><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;sorting images into standardized directory trees is
coming soon&lt;/p&gt;"><sup>2</sup></a> images.</p>
<p>You can create metadata fields for things like the pilot, the
aircraft used, weather conditions, etc. There is no ‘standard’ set of
metadata fields for drone flights. You can define whichever flight
metadata fields you’d like to record based on your specific
requirements. For example, if your goal is to publish your data catalog
online so other people can view it and potentially request the data,
you’d probably want a more comprehensive set of metadata fields than if
the catalog is simply for internal use.</p>
<p>Some common metadata fields include the site, sub-site, project,
sub-project. In addition to documentation, these and other flight
metadata fields can be used to create standard directory trees based on
a user-defined template, and move images into those trees<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;this feature will be implemented in a future update&lt;/p&gt;"><sup>3</sup></a>.</p>
<p>For large collections of drone data, flight metadata can also help
you manage your catalog production workflow. For example you may want to
(re)generate thumbnails for all flights that were part of a specific
project, or a specific site. If the project has been saved in the flight
metadata, you can easily write loops that operate only on those
flights.</p>
</div>
<div class="section level2">
<h2 id="where-do-i-enter-flight-metadata">Where do I enter flight metadata?<a class="anchor" aria-label="anchor" href="#where-do-i-enter-flight-metadata"></a>
</h2>
<p>There are basically two ways to enter flight metadata. You can enter
flight metadata in <em>metadata.txt</em> text files saved in the same
folder as the images, or programmatically when you call
<code><a href="../reference/uas_info.html">uas_info()</a></code>.</p>
<p>The recommended way to enter flight metadata is with
<em>metadata.txt</em><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;you don’t have to name the files &lt;em&gt;metadata.txt&lt;/em&gt;.
That’s just the default. You can name them anything you want, as well as
provide a suffix so each one is named differently. See the help page for
&lt;code&gt;&lt;a href="../reference/uas_metadata_make.html"&gt;uas_metadata_make()&lt;/a&gt;&lt;/code&gt; for details.&lt;/p&gt;'><sup>4</sup></a> files. These are regular text files so
editing them is easy with any text editor (like Notepad). By saving
flight metadata in a file that lives with the images, it will persist
and can be read again and again.</p>
<p>Here is an example of an actual metadata text file. The basic format
is a field name, followed by a colon, followed by the value (aka YAML).
Field names should not contain spaces. You can add comments and blank
lines to make it more readable.</p>
<div style="margin-left:2em; border:1px solid grey;">
<pre><code>## FLIGHT METADATA FILE FOR:
## D:/Pix4D/HREC/RiverFire2020/imgs/ebPlus_Flt05_orig/DCIM/EP-01-26841_0085/metadata.txt

name_short: ebPlus_flt05_orig_msp

name_long: eBee Plus Fight 05, raw images

description: These images were collected as part of the River Fire recovery mapping project at HREC (mapping areas burnt in the 2018 River Fire).

proj: riverfire2020

loc: hrec

notes: The eBee Plus did not have RTK/PPK capabilities. Pre-flight camera calibration was done using a calibration target from MicaSense (not Parrot). The flight was conducted using eMotion 3.5 with 75% x 75% overlap (front and side respectively), with a targetted GSD of 11cm (resulting in a flight altitude of ~116m AGL).

pilot: Shane Feirer, IGIS

contact: Andy Lyons, IGIS

data_url: NA

tags: HREC, RiverFire2020</code></pre>
</div>
<p><br></p>
<p>You don’t have to create <em>metadata.txt</em> files from scratch!
<code><a href="../reference/uas_metadata_make.html">uas_metadata_make()</a></code> is a convenience function that can do
all of the following:</p>
<ol style="list-style-type: lower-roman">
<li>create new metadata text files for one or more image folders<br>
</li>
<li>pre-populate them with fields of your choice<br>
</li>
<li>pre-populate the fields with defaults values</li>
<li>open the text file(s) in a text editor to complete the editing</li>
</ol>
<p>Typically, after you edit and save <em>metadata.txt</em> files,
you’ll want to re-run <code><a href="../reference/uas_info.html">uas_info()</a></code> so the new metadata is
read in R.</p>
<p>The second way to record flight metadata is by passing a named list
as the <code>metadata</code> argument to <code><a href="../reference/uas_info.html">uas_info()</a></code>. This
code-centric approach might make sense if your flight metadata is saved
in a separate database, and you enjoy coding.</p>
</div>
<div class="section level2">
<h2 id="what-are-the-standard-flight-metadata-fields">What are the ‘standard’ flight metadata fields?<a class="anchor" aria-label="anchor" href="#what-are-the-standard-flight-metadata-fields"></a>
</h2>
<p>There are no industry standards for metadata for drone flights.
<code>uasimg</code> provide the following ‘out-of-the-box’ defaults:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/uas_setflds.html">uas_flds_oem</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "name_short"  "name_long"   "description" "proj"        "loc"        </span></span>
<span><span class="co">#&gt;  [6] "pilot"       "contact"     "uav"         "data_url"    "tags"       </span></span>
<span><span class="co">#&gt; [11] "notes"</span></span></code></pre></div>
<p><br></p>
<p><em>Default Metadata Fields for Drone Flights</em></p>
<table class="table tbl_compact">
<thead><tr>
<th style="text-align:left;">
Field
</th>
<th style="text-align:left;">
Usage
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
name_short
</td>
<td style="text-align:left;">
used primarily as the base for file names, such as the HTML summary
page, kml files, shp files, etc.
</td>
</tr>
<tr>
<td style="text-align:left;">
name_long
</td>
<td style="text-align:left;">
a longer name used as the title on flight summay reports
</td>
</tr>
<tr>
<td style="text-align:left;">
description
</td>
<td style="text-align:left;">
a 1-2 sentence blurb about the flight
</td>
</tr>
<tr>
<td style="text-align:left;">
proj
</td>
<td style="text-align:left;">
project name (typically abbreviated). Can be used for filtering and
constructing a directory tree.
</td>
</tr>
<tr>
<td style="text-align:left;">
loc
</td>
<td style="text-align:left;">
location name (typically abbreviated). Can be used for filtering and
constructing a directory tree.
</td>
</tr>
<tr>
<td style="text-align:left;">
pilot
</td>
<td style="text-align:left;">
name of the pilot
</td>
</tr>
<tr>
<td style="text-align:left;">
contact
</td>
<td style="text-align:left;">
contact person if someone wants to receive more info
</td>
</tr>
<tr>
<td style="text-align:left;">
uav
</td>
<td style="text-align:left;">
name or model of the drone
</td>
</tr>
<tr>
<td style="text-align:left;">
data_url
</td>
<td style="text-align:left;">
web address where someone could go to download the data
</td>
</tr>
<tr>
<td style="text-align:left;">
tags
</td>
<td style="text-align:left;">
any tags that might be helpful for searching
</td>
</tr>
<tr>
<td style="text-align:left;">
notes
</td>
<td style="text-align:left;">
note about how the flight went, anything else
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="how-do-i-change-the-default-flight-metadata-fields">How do I change the default flight metadata fields?<a class="anchor" aria-label="anchor" href="#how-do-i-change-the-default-flight-metadata-fields"></a>
</h2>
<p><code><a href="../reference/uas_info.html">uas_info()</a></code> will always import whatever it finds in the
accompanying <em>metadata.txt</em> file. You can however customize the
fields that appear in a ‘blank’ metadata file created by
<code><a href="../reference/uas_metadata_make.html">uas_metadata_make()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## View default flight metadata fields</span></span>
<span><span class="fu"><a href="../reference/uas_setflds.html">uas_getflds</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "name_short"  "name_long"   "description" "proj"        "loc"        </span></span>
<span><span class="co">#&gt;  [6] "pilot"       "contact"     "uav"         "data_url"    "tags"       </span></span>
<span><span class="co">#&gt; [11] "notes"</span></span>
<span></span>
<span><span class="co">## Set default flight metadata fields</span></span>
<span><span class="fu"><a href="../reference/uas_setflds.html">uas_setflds</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name_short"</span>, <span class="st">"name_long"</span>, <span class="st">"proj"</span>, <span class="st">"subproj"</span>, <span class="st">"site_name"</span>, <span class="st">"weather"</span>, <span class="st">"aircraft"</span>, <span class="st">"client"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;"> - Default metadata fields set to: name_short, name_long, proj, subproj, site_name, weather, aircraft, client</span></span></span>
<span></span>
<span><span class="co">## View default flight metadata fields</span></span>
<span><span class="fu"><a href="../reference/uas_setflds.html">uas_getflds</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "name_short" "name_long"  "proj"       "subproj"    "site_name" </span></span>
<span><span class="co">#&gt; [6] "weather"    "aircraft"   "client"</span></span></code></pre></div>
<p>Tip 1: <code>name_short</code> and <code>name_long</code> are used in
several <code>uasimg</code> functions that export files and create
flight summaries. Hence it is recommended to always include these fields
in your flight metadata.</p>
<p>Tip 2: to set the default metadata fields back to the factory
presets, run <code><a href="../reference/uas_setflds.html">uas_setflds()</a></code> without any arguments</p>
</div>
<div class="section level2">
<h2 id="how-do-i-create-metadata-files-with-default-values">How do I create metadata files with default values?<a class="anchor" aria-label="anchor" href="#how-do-i-create-metadata-files-with-default-values"></a>
</h2>
<p>You may have a few standard metadata fields for which the values can
be safely pre-populated (e.g., name of the organization, name of the
pilot, name of the aircraft, etc.). You can tell
<code><a href="../reference/uas_metadata_make.html">uas_metadata_make()</a></code> to use these pre-populated values when
generating new metadata text files with the <code>md_template</code>
argument:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Define a master metadata template, with some fields pre-populated</span></span>
<span><span class="va">md_template_fn</span> <span class="op">&lt;-</span> <span class="st">"~/master_flight_metadata.txt"</span></span>
<span>  </span>
<span><span class="fu"><a href="../reference/uas_metadata_make.html">uas_metadata_make</a></span><span class="op">(</span><span class="va">barn_info</span>, make_new <span class="op">=</span> <span class="cn">TRUE</span>, open <span class="op">=</span> <span class="cn">TRUE</span>, md_template <span class="op">=</span> <span class="va">md_template_fn</span><span class="op">)</span></span></code></pre></div>
<p>The ‘master’ metadata template can even be online. Just make sure the
URL returns raw text [<a href="https://gist.githubusercontent.com/ajlyons/d0826f4775413ba27a21c62aff619bc2/raw/a6f3dde133652a729283b0e03f8a923f54f73a67/hrec_riverfire2020_metadata" class="external-link">example</a>].</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Define a master metadata template, with some fields pre-populated</span></span>
<span><span class="va">md_template_url</span> <span class="op">&lt;-</span> <span class="st">"https://gist.githubusercontent.com/ajlyons/d0826f4775413ba27a21c62aff619bc2/raw/a6f3dde133652a729283b0e03f8a923f54f73a67/hrec_riverfire2020_metadata"</span></span>
<span>  </span>
<span><span class="fu"><a href="../reference/uas_metadata_make.html">uas_metadata_make</a></span><span class="op">(</span><span class="va">barn_info</span>, make_new <span class="op">=</span> <span class="cn">TRUE</span>, open <span class="op">=</span> <span class="cn">TRUE</span>, md_template <span class="op">=</span> <span class="va">md_template_url</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Flight metadata is useful for a variety of data management purposes.
Entering metadata is rarely enjoyable, but <code>uasimg</code> has
several ways to customize the metadata fields for your work and
facilitate creating metadata text files. Include flight metadata in your
workflow and the results will be more useful catalogs and the ability to
automate common data management tasks.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andy Lyons.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
